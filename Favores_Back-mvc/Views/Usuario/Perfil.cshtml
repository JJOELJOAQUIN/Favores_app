@model Favores_Back_mvc.Models.Usuario

@{
    ViewData["Title"] = "Mi Perfil";
}

<div class="container mt-4">

    @if (TempData["Ok"] != null)
    {
        <div class="alert alert-success">@TempData["Ok"]</div>
    }

    <div class="card shadow-lg border-0 rounded-4 overflow-hidden">

        <!-- HEADER MODERNO -->
        <div class="bg-primary text-white p-4 d-flex flex-column align-items-center position-relative">

            <!-- AVATAR -->
            <img src="@(Model.FotoPerfil ?? "/img/default-user.png")"
                 class="rounded-circle border border-3 border-white shadow"
                 style="width: 120px; height: 120px; object-fit: cover;" />

            <h2 class="mt-3 fw-bold">@Model.Nombre</h2>
            <p class="opacity-75 mb-1">@Model.Email</p>

            <span class="badge bg-light text-primary mt-2" style="font-size: 0.9rem;">
                Rol: <strong>@Model.Rol</strong>
            </span>
        </div>

        <!-- BODY -->
        <div class="p-4">

            <!-- TARJETAS DE ESTADISTICAS -->
            <div class="row text-center mb-4">

                <div class="col-md-4 mb-3">
                    <div class="p-3 bg-light rounded-3 shadow-sm">
                        <h5 class="fw-bold text-primary">Reputación</h5>
                        <p class="fs-4 fw-bold">@Model.Reputacion ⭐</p>
                    </div>
                </div>

                <div class="col-md-4 mb-3">
                    <div class="p-3 bg-light rounded-3 shadow-sm">
                        <h5 class="fw-bold text-primary">Calificaciones</h5>
                        <p class="fs-4 fw-bold">@Model.CantidadCalificaciones</p>
                    </div>
                </div>

                <div class="col-md-4 mb-3">
                    <div class="p-3 bg-light rounded-3 shadow-sm">
                        <h5 class="fw-bold text-primary">Miembro desde</h5>
                        <p class="fs-5 fw-bold">@Model.FechaRegistro.ToShortDateString()</p>
                    </div>
                </div>

            </div>

            <!-- BOTÓN EDITAR -->
            <div class="text-center mt-4">
                <a asp-action="EditarPerfil"
                   class="btn btn-primary btn-lg px-4 shadow-sm">
                    Editar Perfil
                </a>
            </div>

        </div>

    </div>

</div>
